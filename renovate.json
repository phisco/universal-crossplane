{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base"
  ],
  "forkProcessing": "enabled",
  "rebaseWhen": "conflicted",
  "prConcurrentLimit": 5,
  "postUpdateOptions": ["gomodTidy"],
  "semanticCommits": "disabled",
  "labels": ["automated"],
  "regexManagers": [
    {
      "fileMatch": ["^\\.github\\/workflows\\/[^/]+\\.ya?ml$"],
      "matchStrings": [
        "GO_VERSION: '(?<currentValue>.*?)'\\n"
      ],
      "datasourceTemplate": "golang-version",
      "depNameTemplate": "golang"
    }, {
      "fileMatch": ["^\\.github\\/workflows\\/[^/]+\\.ya?ml$","^Makefile$"],
      "matchStrings": [
        "GOLANGCI_VERSION: 'v(?<currentValue>.*?)'\\n",
        "GOLANGCILINT_VERSION = (?<currentValue>.*?)\\n"
      ],
      "datasourceTemplate": "github-tags",
      "depNameTemplate": "golangci/golangci-lint",
      "extractVersionTemplate": "^v(?<version>.*)$"
          }, {
      "fileMatch": ["^\\.github\\/workflows\\/[^/]+\\.ya?ml$", "^Makefile$"],
      "matchStrings": [
        "GO_REQUIRED_VERSION = (?<currentValue>.*?)\\n"
      ],
      "datasourceTemplate": "golang-version",
      "depNameTemplate": "golang",
      "versioningTemplate": "loose",
      "extractVersionTemplate": "^(?<version>\\d+\\.\\d+)"
    }
  ],
  "vulnerabilityAlerts": {
    "enabled": true
  },
  "packageRules": [
    {
      "matchDatasources": ["docker"],
      "schedule": ["every 2 week on monday"],
      "enabled": true
    }, {
      "matchDatasources": [
        "go"
      ],
      "matchDepNames": [
        "k8s.io/client-go"
      ],
      "allowedVersions": "<1.0"
    }, {
      "matchDatasources": [
        "go"
      ],
      "groupName": "kubernetes patches",
      "matchUpdateTypes": [
        "digest"
      ],
      "extends": ["schedule:monthly"],
      "matchPackagePrefixes": [
        "k8s.io",
        "sigs.k8s.io"
      ]
    }, {
      "matchDatasources": [
        "go"
      ],
      "groupName": "kubernetes patches",
      "matchUpdateTypes": [
        "patch"
      ],
      "matchPackagePrefixes": [
        "k8s.io",
        "sigs.k8s.io"
      ]
    }, {
      "matchDatasources": [
        "go"
      ],
      "matchUpdateTypes": [
        "major",
        "minor"
      ],
      "matchPackagePrefixes": [
        "k8s.io",
        "sigs.k8s.io"
      ]
    }, {
      "matchDatasources": [
        "go"
      ],
      "matchPackagePatterns": [
        "*"
      ],
      "enabled": false,
      "excludePackagePrefixes": [
        "k8s.io",
        "sigs.k8s.io"
      ],
      "matchUpdateTypes": [
        "major"
      ]
    }, {
      "matchDatasources": [
        "go"
      ],
      "matchPackagePatterns": [
        "*"
      ],
      "enabled": false,
      "excludePackagePrefixes": [
        "k8s.io",
        "sigs.k8s.io"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch",
        "digest"
      ],
      "groupName": "all non-major go dependencies"
    }, {
      "matchDepTypes": [
        "action"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch"
      ],
      "groupName": "all non-major github action",
      "pinDigests": true
    },{
      "matchDepTypes": [
        "action"
      ],
      "pinDigests": true
    },{
      "matchDepTypes": [
        "action"
      ],
      "matchDepNames": [
        "google/oss-fuzz"
      ],
      "enabled": false
    }
  ]
}
